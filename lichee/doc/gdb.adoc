== 개요

원격 `gdb` 연결에는 시리얼 포트와 네트워크 연결이 있다.
하지만 현재 네트워크 연결은 지원하지 않기 때문에 시리얼 포트 연결법을 설명한다.

시리얼 포트 연결을 사용할 때는 시리얼 포트를 통한 터미널을 쓸 수 없게 되므로 별도의 터미널 통신이 가능한 채널이 필요하다.
`lichee` 의 경우 `adb` 를 써서 터미널을 대신할 수 있다.

=== gdb 서버 실행하기

----
# 먼저 빌드한 실행 파일을 타겟 보드로 복사한다.
$ adb push myexample /data

# shell을 실행한다.
$ adb shell

# GDB 서버를 실행한다.
$ dgbserver /dev/ttyS1 /data/example
----

이제 타겟 장치는 디버깅 연결 대기 상태가 된다.

=== gdb 연결하기

이제 호스트에서 `gdb` 를 실행한다.

WARNING: 디버깅 대상 실행 파일은 디버깅 정보를 포함해야 심벌 정보를 볼 수 있다.

----
$ ./arm-linux-gnueabi-gdb

# 타겟 보드의 `gdbserver` 와 연결을 시도한다.
# `/dev/ttyUSB0`는 타겟보드의 시리얼포트와 연결한 호스트의 시리얼포트 장치 이름이므로 환경에 맞게 설정해 준다.
(gdb) target remote /dev/ttyUSB0

# 첫번째 명령은 실패하는 경우가 많다. 다시 한 번 더 시도한다.
(gdb) target remote /dev/ttyUSB0

# 실행을 시작한다.
(gdb) continue
----
